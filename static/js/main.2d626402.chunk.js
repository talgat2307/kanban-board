(this["webpackJsonpkanban-board"]=this["webpackJsonpkanban-board"]||[]).push([[0],{24:function(e,n,t){},25:function(e,n,t){},27:function(e,n,t){},28:function(e,n,t){},29:function(e,n,t){},30:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t.n(c),a=t(6),o=t.n(a),i=t(3),d=(t(24),t(4)),s=t(7),l=(t(25),t.p+"static/media/delete.4ac10f93.svg"),u="ADD_CARD",j="REMOVE_CARD",b="ADD_COLUMN",m="REMOVE_COLUMN",O="CARDS_REORDER",f=function(e,n){return function(t){t(function(e,n){return{type:u,card:e,columnIndex:n}}(e,n))}},p=function(e,n){return function(t){t(function(e,n){return{type:j,columnIndex:e,cardIndex:n}}(e,n))}},x=function(e){var n=e.source,t=e.destination;return function(e){e(function(e){var n=e.source,t=e.destination;return{type:O,payload:{source:n,destination:t}}}({source:n,destination:t}))}},h=t(1),v=function(e){var n=e.children,t=e.cardIndex,c=e.columnIndex,r=Object(i.c)();return"undefined"!==typeof t?Object(h.jsx)(s.b,{draggableId:"card-".concat(c,"-").concat(t),index:t,children:function(e){return Object(h.jsxs)("div",Object(d.a)(Object(d.a)(Object(d.a)({className:"card",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(h.jsx)("span",{children:n}),Object(h.jsx)("div",{onClick:function(){r(p(c,t))},className:"remove-btn",children:Object(h.jsx)("img",{src:l,alt:"Delete icon"})})]}))}}):Object(h.jsx)("div",{className:"card",children:n})},_=(t(27),function(e){return function(n){n(function(e){return{type:b,title:e}}(e))}}),I=function(e){return function(n){n(function(e){return{type:m,columnIndex:e}}(e))}},g=function(e){var n=e.title,t=e.cards,c=e.columnIndex,r=Object(i.c)();return t?Object(h.jsx)(s.c,{type:"CARDS",droppableId:"column-".concat(c),children:function(e){return Object(h.jsx)("div",Object(d.a)(Object(d.a)({className:"column"},e.droppableProps),{},{ref:e.innerRef,children:Object(h.jsxs)("div",{className:"column__inner",children:[n&&Object(h.jsxs)("div",{className:"column__title",children:[Object(h.jsx)("b",{children:n}),Object(h.jsx)("div",{className:"remove-btn",onClick:function(){r(I(c))},children:Object(h.jsx)("img",{src:l,alt:"Delete icon"})})]}),Object(h.jsxs)("div",{className:"column__cards",children:[t.map((function(e,n){return Object(h.jsx)(v,{cardIndex:n,columnIndex:c,children:e},n)})),e.placeholder]}),Object(h.jsx)(C,{isEmptyColumn:!1,columnIndex:c})]})}))}}):Object(h.jsx)("div",{className:"column column__empty",children:Object(h.jsx)("div",{className:"column__inner",children:Object(h.jsx)(C,{isEmptyColumn:!0,columnIndex:c})})})},y=(t(28),function(e){var n=e.children,t=e.onClick,c=e.disableBtn;return Object(h.jsx)("button",{className:"button",onClick:t,disabled:c,children:n})}),N=t(9),E=t.p+"static/media/add.0bbf1711.svg",C=(t(29),function(e){var n=e.isEmptyColumn,t=e.columnIndex,r=Object(c.useState)(!1),a=Object(N.a)(r,2),o=a[0],d=a[1],s=Object(c.useRef)(null),u=Object(c.useState)(),j=Object(N.a)(u,2),b=j[0],m=j[1],O=Object(i.c)();Object(c.useEffect)((function(){s.current&&s.current.focus()}),[o]);return Object(h.jsx)(h.Fragment,{children:o?Object(h.jsx)("div",{className:"add-form",children:Object(h.jsxs)("div",{className:"add-form__input",children:[Object(h.jsx)(v,{children:Object(h.jsx)("textarea",{onChange:function(e){return m(e.target.value)},value:b,placeholder:n?"Enter column title...":"Enter a title for this card...",ref:s,rows:n?"1":"3"})}),Object(h.jsxs)("div",{className:"add-form__bottom",children:[Object(h.jsx)(y,{onClick:function(){return O(n?_(b):f(b,t)),m(""),void d(!1)},disableBtn:!b,children:n?"Add a column":"Add a card"}),Object(h.jsx)("img",{onClick:function(){return d(!1)},className:"add-form__bottom-clear",src:l,alt:"Delete icon"})]})]})}):Object(h.jsx)("div",{className:"add-form__bottom",children:Object(h.jsxs)("div",{onClick:function(){return d(!0)},className:"add-form__bottom-add-btn",children:[Object(h.jsx)("img",{src:E,alt:"Add icon"}),Object(h.jsx)("span",{children:n?"Add another column":"Add another card"})]})})})}),D=function(){var e=Object(i.d)((function(e){return e.board})),n=Object(i.c)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(s.a,{onDragEnd:function(e){var t=e.source,c=e.destination;!c||t.droppableId===c.droppableId&&t.index===c.index||n(x({source:t,destination:c}))},children:e&&e.map((function(e,n){return Object(c.createElement)(g,Object(d.a)(Object(d.a)({},e),{},{key:n,columnIndex:n}))}))}),Object(h.jsx)(g,{})]})},k=function(){return Object(h.jsx)("div",{className:"app",children:Object(h.jsx)(D,{})})},R=t(5),S=t(15),A=t(14),w=function(e){var n=e.state,t=e.source,c=e.destination,r=t.index,a=t.droppableId,o=c.index,i=c.droppableId,d=parseInt(a.replace("column-","")),s=parseInt(i.replace("column-",""));return n.map((function(e,t){if(s===t){var c=n[d].cards.splice(r,1),a=Object(N.a)(c,1)[0],i=Array.from(n[s].cards);i.splice(o,0,a),e.cards=i}return e}))},M=[{title:"To do",cards:["Go to Gym 3x week","Read book","Learn TypeScript","Apply to Masters Degree"]},{title:"In Progress",cards:["Update Resume","Work on Kanban Board project","Watch Loki"]},{title:"Done",cards:["Meeting with friend","Write a plan of month"]}],L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d,P=Object(R.c)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case u:return e.map((function(e,t){return n.columnIndex===t?Object(d.a)(Object(d.a)({},e),{},{cards:[].concat(Object(A.a)(e.cards),[n.card])}):e}));case j:return e.map((function(e,t){return n.columnIndex===t?Object(d.a)(Object(d.a)({},e),{},{cards:e.cards.filter((function(e,t){return t!==n.cardIndex}))}):e}));case O:var t=n.payload,c=t.source,r=t.destination;return w({state:e,source:c,destination:r});case b:return[].concat(Object(A.a)(e),[{title:n.title,cards:[]}]);case m:return e.filter((function(e,t){return n.columnIndex!==t}));default:return e}}}),B=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(n){return}}(),J=[S.a],T=Object(R.e)(P,B,L(R.a.apply(void 0,J)));T.subscribe((function(){!function(e){try{var n=JSON.stringify(e);localStorage.setItem("state",n)}catch(t){console.log("Could not save state")}}({board:T.getState().board})}));var U=T;o.a.render(Object(h.jsx)(i.a,{store:U,children:Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(k,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.2d626402.chunk.js.map